<head>
   <title>Ideala</title>
   <link href='http://fonts.googleapis.com/css?family=Muli' rel='stylesheet' type='text/css'>
</head>

<body>
   {{>navigation}}
   {{> main }}

</body>

 <!-- Barra de navegacion-->
<template name="navigation">
  <header>
          <div class="container">
            <h1><a href="{{pathFor 'welcome'}}">Ideala</a></h1>
              <nav>
                <ul>
                  <li><a href="{{pathFor 'ideas'}}">Ideas</a></li>
                  <li><a  href="{{pathFor 'people'}}">Personas</a></li>
                  {{#if currentUser}}
                    <li>{{>theUser}}</li>
                    <li><a class="newIdea" href="#new_idea">Nueva Idea</a></li>
                    <li><a href="#logout" class="tryLogout" id="salir">Salir</a></li>
                  {{else}}
                    <li><a href="{{pathFor 'loginForm'}}" id="ingresar">Ingresar</a></li>
                  {{/if}}
                </ul>
              </nav>
          </div>
  </header>
</template>

<template name="main">
  {{#if showNewIdea}}
    {{>newIdea}}
  {{/if}}
  {{#if showIdeaData}}
     {{>ideaData}}
  {{/if}}
  {{#if showSimilarIdeas}}
      {{>similar_ideas}}
  {{/if}}
</template>

  <!-- Seccion:"Welcome"-->
<template name="welcome">
  <div class="wpage">
  {{#if currentUser}}
    {{>ideas}}
  {{else}}
    {{#if showNewUser}}
        {{>newUserForm}}
    {{else}}
        {{>welcomeMessage}}
    {{/if}}
  {{/if}}
  </div>
</template>

<template name="welcomeMessage">
    <h1>Ideala</h1>
    <p>Guarda una idea, observa cómo crece</p>
    <br>
    {{>newIdea}}
</template>

<template name="newIdea">
  <form method="post" action="index.html">
        <label>¿Cuál es tu idea?</label>
        <p><textarea type="text" id="idea">{{ideaData.idea}}</textarea></p>
        <label>Palabras clave de tu idea separadas por coma</label>
        <p><input type="text" name="typeOfIdea" id="tagsOfIdea" value={{ideaData.tagsOfIdea}}></p>
        <p class="submit"><input type="submit"  class="searchIdea" value="Añadir Idea"></p>    
  </form>
</template>

<template name="similar_ideas">
  <section class="container">
  <div class="perfilIdeas">
  <h2>Ideas similares</h2>
  <p class="submit"><input type="submit"  class="saveIdea" value="Mi idea es diferente"></p>
  </div>
  </section>
  {{#each matching_idea}}
  <section class="container">
  <div class="perfilIdeas">
      {{>idea}}
  </div>
  </section>
  {{else}}
  <h3>No se encontraron ideas similares</h3>
  {{/each}}
</template>

<template name="ideas">
  {{#each open_idea}}
  <section class="container">
  <div class="perfilIdeas">
      {{>idea}}
  </div>
  </section>
  {{/each}}
</template>

<template name="people">
  <section class="container">
  {{#each user}}
    <div class="perfilIdeas">
    <span class="person" title="Ver perfil">
      {{profile.points}} {{profile.firstName}} {{profile.lastName}}
      {{#each profile.roles}}
        {{this}}
      {{/each}}
    </span><br>
    </div>
  {{/each}}
  </section>
</template>

  <!-- Seccion:"RegisterForm"-->
<template name="registerForm">
  <section class="container">
    <div class="RIdea">
        <h1>Registra una Idea</h1>
          <form method="post" action="index.html">
                <p><textarea type="text" id="idea" placeholder="Cuéntanos tu idea"></textarea></p>
                <p><input type="text" class="form-control" id="nameOfIdea" placeholder="Ponle un nombre"></p>
                <p><input type="text" name="typeOfIdea" id="tagsOfIdea" placeholder="Palabras clave de tu idea"></p>
                <p>¿Desde cuando trabajas en ella?</p>
                <input type="date" name="fecha">
                <p>¿Cual es tu rol?</p>
              <select name="role" id="role">
                <option value="administration">Administrarlo</option>
                <option value="technical">Ejecutarlo (Parte técnica)</option>
                <option value="design"> Diseñarlo</option>
                <option value="sell">Venderlo</option>
                <option value="marketing">Difundirlo/Promocionarlo</option>
                <option value="money"> Financearlo</option>
               </select>
                <p class="submit"><input id="submitCC"  type="submit"  class="signup" name="commit" value="Registrar">
                </p>    
          </form>
    </div>
  </section>
</template>

<!-- Seccion:"LogInForm"-->
<template name="loginForm">
  <section class="container">
          <div class="login">
                <h1>Inicia Sesión </h1>
                  <form method="post" action="index.html">
                    <a href=""><img src="loginfacebook.png"></a>
                    <input type="submit" class="newUser" id="submitCC" name="commit" value="Crear una cuenta">
                    <p><input type="text" id="username" name="username" placeholder="Usuario"></p>
                    <p><input type="password" id="password" name="password" value="" placeholder="Contraseña"></p>
                    <p class="remember_me">
                      <label>
                          <input type="checkbox" name="remember_me" id="remember_me">
                           Recordar en esta computadora
                        </label>
                    </p>
                    <p class="submit"><input type="submit" class="tryLogin" id="submitBoton" name="commit" value="Entrar"></p>
                    <div class="login-help">
              <p>¿Olvidaste tu contraseña? <a href="index.html">Haz clic aquí para resetearla</a>.</p>
          </div>
        </form>
          </div>
      </section>
</template>

<!-- Seccion:"newUserForm"-->
<template name="newUserForm">
  <section>
    <div class="userR">
      <h1>Nuevo usuario</h1>
      <form name="newUserForm">
        <p><input type="text" class="form-control" id="firstName" placeholder="Nombre"></p>
        <p><input type="text" class="form-control" id="lastName" placeholder="Apellido"></p>
        <p><input type="text" class="form-control" id="username" placeholder="Usuario"></p>
        <p><input type="text" class="form-control" id="email" placeholder="Correo Electrónico"></p>
        <p><input type="password" class="form-control" id="password" placeholder="Contraseña"></p>
        <p><label>¿Qué roles te gusta realizar en un proyecto?</label><br>
        <input type="checkbox" name="role" value="administración">Administrarlo<br>
        <input type="checkbox" name="role" value="desarrollo">Desarrollarlo (Parte técnica)<br>
        <input type="checkbox" name="role" value="diseño">Diseñarlo<br>
        <input type="checkbox" name="role" value="ventas">Venderlo<br>
        <input type="checkbox" name="role" value="marketing">Difundirlo/promocionarlo<br>
        <input type="checkbox" name="role" value="inversionista">Financearlo<br>
        </p>
        <input type="checkbox" name="role" value="mentoría">Mentoría<br>
        <p class="submit"><input id="submitBoton" class="createUser" type="submit" name="commit" value="Registrarse"></p>
        </form>
    </div>
  </section>
</template>

<template name="idea">
  <span>
    <a href="{{pathFor 'ideaData'}}">
      <p id="descriptionIdea">{{idea}}</p>
      <p id="descriptionIdea">{{tagsOfIdea}}</p>
    </a>
  </span>
</template>
<template name="persons">
    {{#each peopleInvolved.users}}
      {{#each user this}}
        <span class="person" title="Ver perfil">
        <p>{{profile.firstName}} {{profile.lastName}} </p>
        </span>
      {{/each}}
    {{/each}}
</template>
<template name="profile">
    {{#each user}}
    <section class="container">
      <div class="perfilUsuario">
        <h1>{{profile.firstName}} {{profile.lastName}} {{profile.points}}</h1>
        <p id="titulos">Ideas</p>
        <div id="pProyectos">
        {{#each profile.ideas}}
          {{#each idea_data this}}
              <div id="sectionProyectos">
              <span class="seeIdea" title="Ver Idea"><p>{{idea}} </p></span>
              </div>
          {{/each}}
        {{/each}}
      </div>
        <p id="titulos">Ideas de Mejora</p>
        <div id="pProyectos">
        {{#each profile.relatedIdeas}}
          {{#each related_data this}}
              <div id="sectionProyectos">
              <span class="seeIdea" title="Ver Idea"><p>{{idea}} </p>
              <p>{{points}}</p>
              </span>
              </div>
          {{/each}}
        {{/each}}
        </div>
      </div>
    </section>
    {{/each}}
</template>
<template name="ideaData">
    {{#each idea_to_show}}
    <section class="container">
        <p>{{idea}}</p>
        <p>{{tagsOfIdea}}</p>
        {{>persons}}
         <p class="submit"><input type="submit"  class="copyIdea" value="Guardar esta idea"></p> 
        <h2>Ideas de mejora</h2>
        {{#each relatedIdeas.ideas}}
          {{#each idea_data this}}
              <p>{{idea}}</p>
              <img src="up.png" height="42" width="42" class="increase"><p>{{points}}</p><img src="down.png" height="42" width="42" class="decrease">
              {{>persons}}
          {{/each}}
        {{/each}}
        {{>newRelatedIdea}}
    </section>
    {{/each}}
</template>
<template name="theUser">
{{#each user}}
  <a href="{{pathFor 'profile'}}">
  {{profile.firstName}}
  </a>
{{/each}}
</template>
<template name="newRelatedIdea">
  <form method="post" action="index.html">
        <label>¿Cuál es tu idea?</label>
        <p><textarea type="text" id="idea">{{ideaData.idea}}</textarea></p>
        <label>Palabras clave de tu idea separadas por coma</label>
        <p><input type="text" name="typeOfIdea" id="tagsOfIdea" value={{ideaData.tagsOfIdea}}></p>
        <p class="submit"><input type="submit"  class="saveRelated" value="Añadir Idea"></p>    
  </form>
</template>